/**
 * AGA-8 Coefficients and Exponents for Equation of State DETAIL
 * Based on Tables A.3, A.4, A.5 - Values of the Coefficients and Exponents
 * AGA Report No. 8, Part 1 - Third Edition, April 2017
 */

export interface AGA8Coefficients {
  n: number[];    // Coefficients ni,k
  c: number[];    // Exponents ci,k
  d: number[];    // Exponents di,k  
  t: number[];    // Exponents ti,k
}

/**
 * Coefficients and exponents for all 21 AGA-8 components
 * Using exact component names from the existing system for compatibility
 */
export const AGA8_COEFFICIENTS: Record<string, AGA8Coefficients> = {
  // Table A.3 - Methane, Nitrogen, Ethane
  'Metano (C₁)': {
    n: [
      0.57338, 1.60669, 0.23405, -0.21947, 0.01637, 0.01504, 0.09890,
      0.58383, 0.74787, 0.30133, 0.20986, 0.01590, -0.15783, 0.12717,
      -0.03201, -0.06805, 0.02429, 0.00514, -0.01908, 0.00553, -0.00441,
      0.04006, -0.03376, -0.00251
    ],
    c: [1, 1, 2, 2, 4, 4, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 6, 6, 6, 6],
    d: [1, 1, 2, 3, 4, 4, 1, 1, 1, 2, 3, 6, 2, 4, 4, 4, 2, 3, 3, 4, 5, 6, 6, 7],
    t: [0.125, 1.125, 0.375, 1.125, 0.625, 1.5, 0.625, 2.625, 2.75, 2.125, 2, 1.75, 4.5, 4.75, 5, 4, 4.5, 7.5, 14, 11.5, 26, 28, 30, 16]
  },

  'Nitrogênio (N₂)': {
    n: [
      0.59890, 1.69416, 0.24579, 0.23722, 0.01795, 0.01496, 0.10081,
      0.73157, 0.88373, 0.31877, 0.20766, 0.01958, -0.16956, 0.13547,
      0.03307, 0.06069, 0.01798, 0.00587, -0.01845, 0.00473, 0.00574,
      0.04357, -0.03625, -0.00289
    ],
    c: [1, 1, 2, 2, 4, 4, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 6, 6, 6, 6],
    d: [1, 1, 2, 3, 4, 4, 1, 1, 1, 2, 3, 6, 2, 4, 4, 4, 2, 3, 3, 4, 5, 6, 6, 7],
    t: [0.125, 1.125, 0.375, 1.125, 0.625, 1.5, 0.625, 2.625, 2.75, 2.125, 2, 1.75, 4.5, 4.75, 5, 4, 4.5, 7.5, 14, 11.5, 26, 28, 30, 16]
  },

  'Etano (C₂)': {
    n: [
      0.63596, -1.73780, 0.28914, -0.33764, 0.02241, 0.01516, 0.11451,
      1.06121, 1.28552, 0.39448, 0.31391, 0.02159, -0.21724, -0.28999,
      0.42321, 0.04643, -0.11339, 0.01149, -0.03334, 0.01518, -0.00476,
      0.04692, -0.03941, -0.00325
    ],
    c: [1, 1, 2, 2, 4, 4, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 6, 6, 6, 6],
    d: [1, 1, 2, 3, 4, 4, 1, 1, 1, 2, 3, 6, 2, 4, 4, 4, 2, 3, 3, 4, 5, 6, 6, 7],
    t: [0.125, 1.125, 0.375, 1.125, 0.625, 1.5, 0.625, 2.625, 2.75, 2.125, 2, 1.75, 4.5, 4.75, 5, 4, 4.5, 7.5, 14, 11.5, 26, 28, 30, 16]
  },

  // Table A.4 - Propane through Argon (12 coefficients each)
  'Propano (C₃)': {
    n: [
      1.04098, -2.83185, 0.84393, 0.07660, 0.09469, 0.00025, 0.27545,
      -0.04385, -0.26991, -0.06933, -0.02963, 0.01404
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'i-Butano (iC₄)': {
    n: [
      1.04293, -2.81839, 0.86176, -0.10614, 0.09865, 0.00024, 0.30330,
      -0.04160, -0.29992, -0.08004, -0.02976, 0.00131
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'n-Butano (nC₄)': {
    n: [
      1.06263, -2.86210, 0.88738, 0.12508, 0.10287, 0.00025, 0.32325,
      -0.03795, -0.32535, -0.07951, -0.02064, 0.00571
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'i-Pentano (iC₅)': {
    n: [
      1.0963, -3.0402, 1.0317, -0.1510, 0.11535, 0.00003, 0.3957,
      -0.04588, -0.35804, -0.1017, -0.03548, 0.01816
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'n-Pentano (nC₅)': {
    n: [
      1.09864, -2.99884, 0.99517, -0.16708, 0.11334, 0.00003, 0.40993,
      -0.04088, -0.38169, -0.10931, -0.03207, 0.01688
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'Hexano (C₆)': {
    n: [
      1.05532, -2.61207, 0.76614, -0.29771, 0.11879, 0.00028, 0.46348,
      0.01144, -0.48257, -0.09375, -0.00673, -0.00511
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'Heptano (C₇)': {
    n: [
      1.07226, -2.65007, 0.81701, -0.34810, 0.12254, 0.00000, 0.49906,
      -0.00074, -0.54237, -0.13802, -0.00616, 0.00049
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'Octano (C₈)': {
    n: [
      1.07225, -2.63295, 0.65386, -0.36325, 0.12712, 0.00031, 0.52657,
      0.00194, -0.58993, -0.14070, -0.00789, 0.00333
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'Nonano (C₉)': {
    n: [
      1.1151, -2.7020, 0.8442, -0.3883, 0.1376, 0.0002, 0.6204,
      0.0158, -0.6173, -0.1304, -0.0130, 0.0044
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'Decano (C₁₀)': {
    n: [
      1.0461, -2.4807, 0.7437, -0.5258, 0.1532, 0.0003, 0.8418,
      0.0555, -0.7355, -0.1851, -0.0207, 0.0123
    ],
    c: [1, 1, 1, 2, 3, 7, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [1, 1, 0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625]
  },

  'Oxigênio (O₂)': {
    n: [
      0.88878, -2.48794, 0.59750, 0.00097, 0.07197, 0.00022, 0.18556,
      -0.03813, -0.15353, -0.02673, -0.02568, 0.00957
    ],
    c: [1, 1, 1, 2, 3, 4, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625, 14.5, 12]
  },

  'Monóxido de Carbono (CO)': {
    n: [
      0.90554, -2.4515, 0.5314, 0.0242, 0.0723, 0.0002, 0.1941,
      -0.0433, -0.1278, -0.0280, -0.0342, 0.0163
    ],
    c: [1, 1, 1, 2, 3, 4, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625, 14.5, 12]
  },

  'Sulfeto de Hidrogênio (H₂S)': {
    n: [
      0.87641, -2.0367, 0.21634, -0.05010, 0.06699, 0.00019, 0.20227,
      -0.00453, -0.22230, -0.03472, -0.01488, 0.00742
    ],
    c: [1, 1, 1, 2, 3, 6, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625, 14.5, 12]
  },

  'Argônio (Ar)': {
    n: [
      0.85096, -2.40033, 0.54128, 0.01692, 0.06883, 0.00021, 0.17430,
      -0.03365, -0.13527, -0.01639, -0.02499, 0.00888
    ],
    c: [1, 1, 1, 2, 3, 4, 2, 5, 1, 4, 3, 4],
    d: [1, 1, 2, 2, 3, 3, 4, 4, 4, 6, 6, 6],
    t: [0.25, 1.125, 1.5, 1.375, 0.25, 0.875, 0.625, 0.75, 3.625, 3.625, 14.5, 12]
  }
};

// Table A.5 - Carbon dioxide, Hydrogen, Water, Helium (variable number of coefficients)
export const AGA8_SPECIAL_COEFFICIENTS: Record<string, AGA8Coefficients> = {
  'Dióxido de Carbono (CO₂)': {
    n: [
      0.52647, -1.49957, 0.27330, 0.12949, 0.15405, -0.58187, -0.18024,
      0.09539, -0.00805, -0.03555, 0.28080, -0.08244, 0.01083, -0.00607,
      -0.00047, -0.02836, 0.01950, -0.21609, 0.43773, -0.22131, 0.01519, 0.01538
    ],
    c: [1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 1, 4, 1, 1, 3, 3, 4, 5, 5, 5, 5, 6],
    d: [1, 1, 2, 3, 3, 3, 1, 5, 6, 6, 1, 4, 7.5, 8, 6, 16, 11, 24, 26, 28, 24, 26],
    t: [0, 1.25, 1.625, 0.375, 0.375, 1.375, 1.125, 1.375, 0.125, 1.625, 3.75, 3.5, 7.5, 8, 6, 16, 11, 24, 26, 28, 24, 26]
  },

  'Hidrogênio (H₂)': {
    n: [
      5.35799, -6.20525, 0.13830, -0.07139, 0.01547, -0.14977, -0.02637,
      0.05664, -0.06006, -0.45043, 0.42479, -0.02100, -0.01049, -0.00029
    ],
    c: [1, 1, 2, 2, 4, 1, 5, 5, 5, 2, 1, 2, 5, 1],
    d: [1, 1, 2, 2, 4, 1, 5, 5, 5, 2, 1, 2, 5, 1],
    t: [0.5, 0.625, 0.375, 0.625, 1.125, 2.625, 0, 0.25, 1.375, 4, 4.25, 5, 8, 8]
  },

  'Água (H₂O)': {
    n: [
      0.82728, -1.86022, -1.11909, 0.15636, 0.87376, -0.36674, 0.05399,
      1.09576, 0.05332, 0.01305, -0.41080, 0.14637, -0.05573, -0.01201, 0.00664, 0.00470
    ],
    c: [1, 1, 1, 2, 2, 3, 4, 1, 5, 5, 2, 2, 2, 4, 3, 5],
    d: [1, 1, 1, 2, 2, 3, 4, 1, 5, 5, 2, 2, 2, 4, 3, 5],
    t: [0.5, 1.25, 1.875, 0.125, 1.5, 1, 0.75, 1.5, 0.625, 2.625, 5, 4, 4.5, 3, 4, 6]
  },

  'Hélio (He)': {
    n: [
      -0.45579, 1.25164, -1.54383, 0.02065, -0.34476, -0.02086, 0.01623,
      -0.05748, 0.01946, -0.03325, 0.01087, -0.02218
    ],
    c: [1, 1, 1, 4, 1, 1, 5, 5, 5, 2, 1, 3],
    d: [1, 1, 1, 4, 1, 3, 5, 0.125, 1.25, 2, 1, 2],
    t: [0, 0.125, 0.75, 1, 0.75, 2.625, 0.125, 1.25, 2, 1, 4.5, 5]
  }
};

/**
 * Utility function to get coefficients for a component
 * Includes validation to ensure component exists
 */
export function getAGA8Coefficients(componentName: string): AGA8Coefficients | null {
  // Check regular coefficients first
  let coeffs = AGA8_COEFFICIENTS[componentName];
  
  // Check special coefficients if not found
  if (!coeffs) {
    coeffs = AGA8_SPECIAL_COEFFICIENTS[componentName];
  }
  
  if (!coeffs) {
    console.warn(`AGA-8 coefficients not found for component: ${componentName}`);
    return null;
  }
  
  return coeffs;
}

/**
 * Utility function to validate if all components have coefficients
 */
export function validateComponentsHaveCoefficients(componentNames: string[]): {
  valid: boolean;
  missingComponents: string[];
} {
  const missing = componentNames.filter(name => !getAGA8Coefficients(name));
  return {
    valid: missing.length === 0,
    missingComponents: missing
  };
}

/**
 * Get all available components with coefficients
 */
export function getAvailableComponentsWithCoefficients(): string[] {
  return [...Object.keys(AGA8_COEFFICIENTS), ...Object.keys(AGA8_SPECIAL_COEFFICIENTS)];
} 